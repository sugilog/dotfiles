# http://subtech.g.hatena.ne.jp/secondlife/20101224/1293179431

function cdgem() {
  cd `echo $GEM_HOME/**/gems/$1*|awk -F' ' '{print $1}'`
}

compctl -K _cdgem cdgem
function _cdgem() {
  case "${OSTYPE}" in
  freebsd*|darwin*)
    reply=(`find $GEM_HOME -type d|grep -e '/gems/[^/]\+$'|xargs -i basename{}|sort -nr`)
  ;;
  linux*)
    reply=(`find $GEM_HOME -type d|grep -e '/gems/[^/]\+$'|xargs basename|sort -nr`)
  ;;
  esac
}

